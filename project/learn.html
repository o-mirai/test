<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>コード学習モード</title>
  <link rel="stylesheet" href="css/common.css" />
  <link rel="stylesheet" href="css/learn.css" />
  <script type="module" src="js/learn.js"></script>
</head>

<body>
  <!-- サイドバー: コード選択エリア -->
  <aside class="sidebar">
    <h3>学習するコードを選択</h3>
    
    <!-- 選択コード数の表示 -->
    <div class="selection-count">
      選択中: <strong id="selected-chord-count">0</strong>個のコード
    </div>
    
    <!-- ルート音選択 -->
    <div class="selector-section">
      <div class="section-header">
        <h4>ルート音</h4>
        <div class="select-buttons">
          <button class="mini-button" id="select-all-roots">全選択</button>
          <button class="mini-button" id="deselect-all-roots">全解除</button>
        </div>
      </div>
      <div class="checkbox-group">
        <label><input type="checkbox" class="root-checkbox" value="C"> C</label>
        <label><input type="checkbox" class="root-checkbox" value="C#/Db"> C#/D♭</label>
        <label><input type="checkbox" class="root-checkbox" value="D"> D</label>
        <label><input type="checkbox" class="root-checkbox" value="D#/Eb"> D#/E♭</label>
        <label><input type="checkbox" class="root-checkbox" value="E"> E</label>
        <label><input type="checkbox" class="root-checkbox" value="F"> F</label>
        <label><input type="checkbox" class="root-checkbox" value="F#/Gb"> F#/G♭</label>
        <label><input type="checkbox" class="root-checkbox" value="G"> G</label>
        <label><input type="checkbox" class="root-checkbox" value="G#/Ab"> G#/A♭</label>
        <label><input type="checkbox" class="root-checkbox" value="A"> A</label>
        <label><input type="checkbox" class="root-checkbox" value="A#/Bb"> A#/B♭</label>
        <label><input type="checkbox" class="root-checkbox" value="B"> B</label>
      </div>
    </div>

    <!-- コードタイプ選択 -->
    <div class="selector-section">
      <div class="section-header">
        <h4>コードの種類</h4>
        <div class="select-buttons">
          <button class="mini-button" id="select-all-types">全選択</button>
          <button class="mini-button" id="deselect-all-types">全解除</button>
        </div>
      </div>
      <div class="checkbox-group">
        <label><input type="checkbox" class="type-checkbox" value="major"> メジャー</label>
        <label><input type="checkbox" class="type-checkbox" value="minor"> マイナー</label>
        <label><input type="checkbox" class="type-checkbox" value="seventh"> セブンス</label>
        <label><input type="checkbox" class="type-checkbox" value="major7"> メジャーセブンス</label>
        <label><input type="checkbox" class="type-checkbox" value="minor7"> マイナーセブンス</label>
        <label><input type="checkbox" class="type-checkbox" value="sus4"> サスフォー</label>
        <label><input type="checkbox" class="type-checkbox" value="dim"> ディミニッシュ</label>
        <label><input type="checkbox" class="type-checkbox" value="aug"> オーギュメント</label>
      </div>
    </div>

    <button id="apply-selection" class="apply-button">選択を反映</button>
  </aside>

  <!-- メインコンテンツ -->
  <main class="main">
    <h1>コード学習モード</h1>
    <p class="mode-description">各コードボタンをクリックして、構成音と音を確認しましょう</p>

    <!-- 音量調整エリア -->
    <div class="volume-control">
      <label for="volume-slider">🔊 音量:</label>
      <input type="range" id="volume-slider" min="0" max="100" value="50" step="1">
      <span class="volume-display" id="volume-display">50%</span>
    </div>

    <div class="chord-buttons" id="chord-buttons">
      <!-- JavaScriptで動的に生成 -->
    </div>

    <div class="chord-info-container">
      <p id="chord-name">コード：-</p>
      <p id="chord-notes">構成音：-</p>
    </div>

    <div id="keyboard"></div>

    <div class="learning-tips">
      <h3>💡 学習のヒント</h3>
      <p>黄色くハイライトされた鍵盤が、そのコードの構成音です。コードボタンをクリックすると、音が自動的に鳴ります。何度もクリックして、耳で覚えましょう！</p>
    </div>

    <div class="nav">
      <a href="index.html">← ホームに戻る</a>
      <a href="quiz-name.html">コード名当てクイズへ →</a>
      <a href="quiz-notes.html">構成音選択クイズへ →</a>
    </div>
  </main>
</body>

</html>